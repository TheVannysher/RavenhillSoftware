<form [formGroup]="formGroup" (submit)="addVines()" class="flex flex-col">
  <div class="flex justify-center p-4">
    <p i18n class="text-center text-2xl font-bold capitalize">Adding Vines ðŸŒ±</p>
  </div>
  <div class="flex flex-col gap-4 p-4">
    <div class="w-full flex flex-col gap-1">
      <label for="variety" class="block uppercase tracking-wide text-gray-700 text-xs font-bold">Variety<span
          class="text-red-600">*</span></label>
      <div class="relative">
        <select [ngClass]="variety && variety.invalid && variety.touched ? 'ring-2 ring-red-600' : ''"
          class="block appearance-none w-full bg-white ring-1 ring-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:ring-2 focus:ring-green-600"
          name="variety" formControlName="variety">
          <option *ngFor="let variety of varieties | async" [ngValue]="variety">{{variety.name}}</option>
        </select>
      </div>
    </div>
    <div class="flex flex-col gap-1">
      <label i18n class="block uppercase tracking-wide text-gray-700 text-xs font-bold" for="quantity">
        Quantity<span class="text-red-600">*</span>
      </label>
      <input [ngClass]="quantity && quantity.invalid && quantity.touched ? 'ring-2 ring-red-600' : ''"
        class="appearance-none flex-1 bg-white text-gray-700 ring-1 ring-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:ring-2 focus:bg-white focus:ring-green-600"
        id="quantity" formControlName="quantity" type="number" placeholder="vine quantity">
    </div>
    <div class="flex flex-col gap-1">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold" for="vigor">Default vigor<span
          class="text-red-600">*</span></label>
      <div class="relative">
        <select [ngClass]="vigor && vigor.invalid && vigor.touched ? 'ring-2 ring-red-600' : ''"
          class="block appearance-none w-full bg-white border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:ring-green-600 focus:ring-2"
          name="vigor" formControlName="vigor">
          <option value="low" i18n>low</option>
          <option value="medium" i18n>medium</option>
          <option value="high" i18n>high</option>
          <option value="dead" i18n>dead</option>
        </select>
      </div>
    </div>
    <div class="flex flex-col gap-1">
      <label i18n class="block uppercase tracking-wide text-gray-700 text-xs font-bold" for="quantity">
        Clusters
      </label>
      <input [ngClass]="clusters && clusters.invalid ? 'ring-2 ring-red-600' : ''"
        class="appearance-none flex-1 bg-white text-gray-700 ring-1 ring-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:ring-2 focus:bg-white focus:ring-green-600"
        id="clusters" formControlName="clusters" type="number" placeholder="0">
    </div>
    <div class="col-span-3 text-center p-2">
      <p class="text-neutral-500">**All vines of same variety will be grouped into a block on form submition**</p>
      <p class="text-neutral-500">**Inputs fields with a red * are mandatory**</p>
    </div>
  </div>
  <div class="flex gap-2 justify-end items-center px-4 py-2">
    <button [disabled]="formGroup.invalid" type="submit" class="py-2 px-4
      rounded-full
      disabled:text-neutral-500
      disabled:bg-neutral-200
      transition-all ease duration-200
      text-blue-600
      hover:shadow
      hover:text-white
      hover:bg-blue-600
    hover:border-blue-600
    disabled:shadow-none
    disabled:hover:shadow-none
    disabled:hover:border-neutral-500">
      <p>add vine</p>
    </button>
  </div>
</form>